<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Executive Seat Request — Sovereign Protocol (Gaborone)</title>
  <meta name="description" content="Invitation-only Executive Seat Request for Sovereign Protocol (Gaborone).">

  <style>
    :root{
      --bg:#0B0B0C;
      --panel:#111215;
      --border:#24262B;
      --gold:#C8A24A;
      --goldDeep:#A8862E;
      --teal:#0E7C7B;
      --text:#EDEDED;
      --muted:#B7B7B7;
    }
    *{box-sizing:border-box}
    body{
      margin:0;
      font-family: system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
      color:var(--text);
      background:
        radial-gradient(1200px 700px at 50% 10%, rgba(200,162,74,.12), transparent 60%),
        radial-gradient(900px 600px at 10% 30%, rgba(14,124,123,.08), transparent 55%),
        var(--bg);
    }
    .wrap{
      max-width: 860px;
      padding: 28px 16px 60px;
      margin: 0 auto;
    }
    .card{
      background: rgba(17,18,21,.92);
      border:1px solid var(--border);
      border-radius:16px;
      padding:22px;
      box-shadow: 0 8px 30px rgba(0,0,0,.25);
    }
    h1{
      margin:0 0 6px;
      font-size: 28px;
      letter-spacing:-0.02em;
    }
    .sub{
      margin:0 0 18px;
      color:var(--muted);
      line-height:1.45;
    }
    .badge{
      display:inline-flex;
      align-items:center;
      gap:8px;
      padding:6px 10px;
      border-radius:999px;
      border:1px solid rgba(14,124,123,.35);
      color:#BFF3F2;
      background: rgba(14,124,123,.12);
      font-size: 13px;
      margin-bottom: 12px;
    }
    .grid{
      display:grid;
      grid-template-columns: 1fr 1fr;
      gap: 14px;
    }
    @media (max-width: 720px){
      .grid{grid-template-columns:1fr}
    }
    label{
      display:block;
      font-size: 14px;
      margin: 10px 0 6px;
      color: var(--muted);
    }
    input, select, textarea{
      width:100%;
      padding: 12px 12px;
      border-radius: 12px;
      border: 1px solid var(--border);
      background: #0F1013;
      color: var(--text);
      outline: none;
    }
    textarea{resize: vertical; min-height: 92px;}
    input:focus, select:focus, textarea:focus{
      border-color: rgba(200,162,74,.55);
      box-shadow: 0 0 0 4px rgba(200,162,74,.12);
    }
    .note{
      margin-top: 14px;
      font-size: 14px;
      color: var(--muted);
      line-height: 1.45;
    }
    .btnRow{
      display:flex;
      gap: 12px;
      flex-wrap: wrap;
      margin-top: 16px;
      align-items:center;
    }
    button{
      border:0;
      cursor:pointer;
      border-radius: 12px;
      padding: 12px 16px;
      font-weight: 800;
      font-size: 14px;
    }
    .btnPrimary{
      background: linear-gradient(180deg, var(--gold), var(--goldDeep));
      color: #0B0B0C;
    }
    .btnPrimary:disabled{
      opacity:.55;
      cursor:not-allowed;
    }
    .btnSecondary{
      background: transparent;
      border: 1px solid rgba(200,162,74,.6);
      color: var(--gold);
    }
    .small{
      font-size: 12.5px;
      color: var(--muted);
      margin-top: 10px;
    }
    .hr{
      height:1px;
      background: linear-gradient(90deg, transparent, rgba(200,162,74,.35), transparent);
      margin: 16px 0;
    }
    .error{
      margin-top: 12px;
      color: #ffb4b4;
      font-size: 13px;
      display:none;
    }
    .success{
      display:none;
      padding: 18px;
      border-radius: 16px;
      border: 1px solid rgba(14,124,123,.35);
      background: rgba(14,124,123,.10);
    }
    .success h2{
      margin: 0 0 6px;
      font-size: 22px;
    }
    .success p{
      margin: 0 0 10px;
      color: var(--muted);
      line-height: 1.5;
    }
    a.linkBtn{
      display:inline-flex;
      align-items:center;
      justify-content:center;
      text-decoration:none;
      border-radius:12px;
      padding: 12px 16px;
      font-weight: 800;
      font-size: 14px;
    }
    .linkGold{
      border:1px solid rgba(200,162,74,.6);
      color: var(--gold);
      background: transparent;
    }
  </style>
</head>

<body>
  <main class="wrap">
    <section class="card" aria-live="polite">
      <div class="badge">Invitation-only • Executive Seat Request</div>
      <h1>Sovereign Protocol — Executive Cohort (Gaborone)</h1>
      <p class="sub">
        Seat requests are confirmed within <strong>24–48 hours</strong>.
        Seat holds are reserved while invoicing is processed. Invoice + logistics pack will be sent to your nominated invoice contact.
      </p>

      <!-- SUCCESS PANEL (shown after submit) -->
      <div id="successPanel" class="success">
        <h2>Thank you — seat request received.</h2>
        <p>
          We have received your Executive Seat Request. If approved, we will confirm seat allocation within <strong>24–48 hours</strong>
          and send the invoice + logistics pack to your nominated invoice contact.
        </p>
        <div class="btnRow">
          <a class="linkBtn linkGold" href="https://www.youlounge.org" target="_blank" rel="noopener">View You Lounge website</a>
        </div>
        <p class="small">For urgent matters: WhatsApp +267 7327 5526</p>
      </div>

      <!-- FORM -->
      <form id="seatForm" action="https://formspree.io/f/mdaldvwy" method="POST" novalidate>
        <div class="grid">
          <div>
            <label for="full_name">Full Name*</label>
            <input id="full_name" type="text" name="full_name" required autocomplete="name" />
          </div>
          <div>
            <label for="organisation">Organisation*</label>
            <input id="organisation" type="text" name="organisation" required autocomplete="organization" />
          </div>
        </div>

        <div class="grid">
          <div>
            <label for="role">Title/Role*</label>
            <select id="role" name="role" required>
              <option value="">Select…</option>
              <option>Board Chair / Director</option>
              <option>CEO / Managing Director</option>
              <option>COO</option>
              <option>CFO</option>
              <option>Company Secretary / Head of Governance</option>
              <option>Head of Risk / Compliance</option>
              <option>Head of Internal Audit</option>
              <option>Head of Strategy / Transformation</option>
              <option>Senior Operations Leader</option>
              <option>Other (specify)</option>
            </select>
          </div>
          <div>
            <label for="role_other">If Other, specify</label>
            <input id="role_other" type="text" name="role_other" placeholder="Only required if you selected Other" />
          </div>
        </div>

        <div class="grid">
          <div>
            <label for="email">Work Email*</label>
            <input id="email" type="email" name="email" required autocomplete="email" />
          </div>
          <div>
            <label for="mobile_whatsapp">Mobile / WhatsApp*</label>
            <input id="mobile_whatsapp" type="tel" name="mobile_whatsapp" required autocomplete="tel" placeholder="+267…" />
          </div>
        </div>

        <div class="grid">
          <div>
            <label for="city">City (optional)</label>
            <select id="city" name="city">
              <option value="">Select…</option>
              <option>Gaborone</option>
              <option>Francistown</option>
              <option>Other</option>
            </select>
          </div>
          <div>
            <label for="city_other">If Other, specify</label>
            <input id="city_other" type="text" name="city_other" placeholder="Only if City = Other" />
          </div>
        </div>

        <div class="grid">
          <div>
            <label for="participant_type">Participant Type*</label>
            <select id="participant_type" name="participant_type" required>
              <option value="">Select…</option>
              <option>Board / EXCO</option>
              <option>Governance / Risk / Internal Audit</option>
            </select>
          </div>
          <div>
            <label for="seats_requested">Seats Requested*</label>
            <select id="seats_requested" name="seats_requested" required>
              <option value="">Select…</option>
              <option value="1">1 seat (USD $500)</option>
              <option value="2">2 seats</option>
              <option value="5">5 seats (Institutional Pack)</option>
              <option value="10">10 seats (Institutional Pack + 1-hour clinic)</option>
            </select>
          </div>
        </div>

        <label for="attendee_names">Attendee Names (optional)</label>
        <textarea id="attendee_names" name="attendee_names" rows="3" placeholder="If multiple seats, list names or write TBC"></textarea>

        <div class="hr"></div>

        <div class="grid">
          <div>
            <label for="invoice_contact_name">Invoice Contact Name*</label>
            <input id="invoice_contact_name" type="text" name="invoice_contact_name" required placeholder="Required for 2/5/10 seats" />
          </div>
          <div>
            <label for="invoice_contact_email">Invoice Contact Email*</label>
            <input id="invoice_contact_email" type="email" name="invoice_contact_email" required placeholder="Required for 2/5/10 seats" />
          </div>
        </div>

        <div class="grid">
          <div>
            <label for="invoice_process">Invoice process*</label>
            <select id="invoice_process" name="invoice_process" required>
              <option value="">Select…</option>
              <option>Invoice (EFT)</option>
              <option>Invoice + PO required</option>
            </select>
          </div>
          <div>
            <label for="po_number">PO number (if available)</label>
            <input id="po_number" type="text" name="po_number" placeholder="Optional" />
          </div>
        </div>

        <label for="notes">Notes (optional)</label>
        <textarea id="notes" name="notes" rows="3" placeholder="Any constraints, context, or questions"></textarea>

        <!-- Honeypot (spam trap) -->
        <input type="text" name="_gotcha" style="display:none" tabindex="-1" autocomplete="off" />

        <div class="btnRow">
          <button id="submitBtn" type="submit" class="btnPrimary">Request Executive Seats</button>
          <a class="linkBtn linkGold" href="https://www.youlounge.org" target="_blank" rel="noopener">View You Lounge website</a>
        </div>

        <p class="small">
          By submitting, you consent to being contacted about this cohort. We do not sell your data.
        </p>

        <p id="errorMsg" class="error">
          Submission failed. Please try again, or WhatsApp +267 7327 5526.
        </p>
      </form>
    </section>
  </main>

  <script>
    (function () {
      const form = document.getElementById("seatForm");
      const submitBtn = document.getElementById("submitBtn");
      const errorMsg = document.getElementById("errorMsg");
      const successPanel = document.getElementById("successPanel");

      const role = document.getElementById("role");
      const roleOther = document.getElementById("role_other");

      const city = document.getElementById("city");
      const cityOther = document.getElementById("city_other");

      const seats = document.getElementById("seats_requested");

      const invoiceName = document.getElementById("invoice_contact_name");
      const invoiceEmail = document.getElementById("invoice_contact_email");
      const invoiceProcess = document.getElementById("invoice_process");

      function toggleRequired(field, isRequired) {
        if (!field) return;
        field.required = !!isRequired;
        field.setAttribute("aria-required", isRequired ? "true" : "false");
      }

      function onRoleChange() {
        const isOther = role.value === "Other (specify)";
        toggleRequired(roleOther, isOther);
        if (!isOther) roleOther.value = "";
      }

      function onCityChange() {
        const isOther = city.value === "Other";
        toggleRequired(cityOther, isOther);
        if (!isOther) cityOther.value = "";
      }

      function onSeatsChange() {
        // For 1 seat, allow submission without invoice contact details (you can follow up if needed).
        const seatVal = seats.value; // "1", "2", "5", "10"
        const isMultiSeat = seatVal === "2" || seatVal === "5" || seatVal === "10";

        toggleRequired(invoiceName, isMultiSeat);
        toggleRequired(invoiceEmail, isMultiSeat);
        toggleRequired(invoiceProcess, isMultiSeat);

        if (!isMultiSeat) {
          invoiceName.value = "";
          invoiceEmail.value = "";
          invoiceProcess.value = "";
        }
      }

      // Initialize
      onRoleChange();
      onCityChange();
      onSeatsChange();

      // Listen
      role.addEventListener("change", onRoleChange);
      city.addEventListener("change", onCityChange);
      seats.addEventListener("change", onSeatsChange);

      // Submit via AJAX, then show Thank You on the same page
      form.addEventListener("submit", async function (e) {
        e.preventDefault();
        errorMsg.style.display = "none";

        // Guardrails: ensure role/city "Other" has content
        if (role.value === "Other (specify)" && !roleOther.value.trim()) {
          roleOther.focus();
          alert("Please specify your role.");
          return;
        }
        if (city.value === "Other" && !cityOther.value.trim()) {
          cityOther.focus();
          alert("Please specify your city.");
          return;
        }

        submitBtn.disabled = true;
        submitBtn.textContent = "Submitting…";

        try {
          const formData = new FormData(form);
          const res = await fetch(form.action, {
            method: "POST",
            body: formData,
            headers: { "Accept": "application/json" }
          });

          if (res.ok) {
            form.style.display = "none";
            successPanel.style.display = "block";
          } else {
            errorMsg.style.display = "block";
          }
        } catch (err) {
          errorMsg.style.display = "block";
        } finally {
          submitBtn.disabled = false;
          submitBtn.textContent = "Request Executive Seats";
        }
      });
    })();
  </script>
</body>
</html>
